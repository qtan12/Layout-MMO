<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - MMO Store</title>
    <meta name="description" content="Quản lý thông tin cá nhân và cài đặt tài khoản">

    <script type="text/javascript">
        const API_URL = "https://panel.dongnai.net/api/v2/";
    </script>
    
    <!-- Tailwind CSS CDN -->
    <script src="js/tailwindcss.3.js"></script>

    <!-- Tailwind CSS Globals -->
    <style>
        .hidden {
            display: none;
        }
    </style>
    <style type="text/tailwindcss">
        @layer base {
            :root {
                --background: 0 0% 100%;
                --foreground: 222.2 84% 4.9%;
                --card: 0 0% 100%;
                --card-foreground: 222.2 84% 4.9%;
                --popover: 0 0% 100%;
                --popover-foreground: 222.2 84% 4.9%;
                --primary: 221.2 83.2% 53.3%;
                --primary-foreground: 210 40% 98%;
                --secondary: 210 40% 96%;
                --secondary-foreground: 222.2 84% 4.9%;
                --muted: 210 40% 96%;
                --muted-foreground: 215.4 16.3% 46.9%;
                --accent: 210 40% 96%;
                --accent-foreground: 222.2 84% 4.9%;
                --destructive: 0 84.2% 60.2%;
                --destructive-foreground: 210 40% 98%;
                --border: 214.3 31.8% 91.4%;
                --input: 214.3 31.8% 91.4%;
                --ring: 221.2 83.2% 53.3%;
                --radius: 0.75rem;
            }

            * {
                @apply border-gray-200;
            }

            body {
                @apply bg-white text-gray-900 font-sans;
                font-family: 'Inter', sans-serif;
            }
        }

        @layer components {
            /* Container */
            .container {
                @apply mx-auto px-4;
            }

            @media (min-width: 640px) {
                .container {
                    max-width: 640px;
                }
            }

            @media (min-width: 768px) {
                .container {
                    max-width: 768px;
                    @apply px-6;
                }
            }

            @media (min-width: 1024px) {
                .container {
                    max-width: 1240px;
                    @apply px-8;
                }
            }

            @media (min-width: 1280px) {
                .container {
                    max-width: 1280px;
                }
            }

            @media (min-width: 1536px) {
                .container {
                    max-width: 1536px;
                }
            }

            /* Button Styles */
            .btn {
                @apply inline-flex items-center justify-center text-sm px-4 py-2 h-10 rounded-lg focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap overflow-hidden text-ellipsis;
            }

            .btn-primary {
                @apply bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white shadow-sm hover:shadow-md focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2;
            }

            .btn-secondary {
                @apply bg-white border border-emerald-600 text-emerald-600 hover:bg-emerald-50 focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2;
            }

            .btn-outline {
                @apply border border-gray-300 text-gray-700 hover:bg-gray-50;
            }

            .btn-ghost {
                @apply border border-gray-300 text-gray-600 hover:text-emerald-600 hover:bg-transparent transition-colors;
            }

            /* Input Styles */
            .input {
                @apply flex h-10 w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 text-sm placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 focus:placeholder:text-emerald-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all;
            }

            /* Tab Styles */
            .tabs {
                @apply w-full;
            }

            .tabs-list {
                @apply flex bg-gray-100 rounded-xl p-1 gap-2;
            }

            .tabs-trigger {
                @apply flex-1 py-2.5 px-4 text-sm font-medium rounded-lg transition-all focus:outline-none disabled:pointer-events-none disabled:opacity-50;
            }

            .tabs-content {
                @apply mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2;
            }

            /* Badge Styles */
            .badge {
                @apply inline-flex items-center px-2.5 py-0.5 text-xs font-semibold rounded-md border;
            }

            .badge-primary {
                @apply bg-emerald-50 text-emerald-700 border-emerald-200;
            }

            .badge-success {
                @apply bg-green-50 text-green-700 border-green-200;
            }

            .badge-info {
                @apply bg-blue-50 text-blue-700 border-blue-200;
            }
        }
    </style>

    <!-- Alpine.js CDN -->
    <script src="js/alpinejs.3.15.0.js" defer></script>
    <!-- Image Fallback Utility -->
    <script src="js/image-fallback.js"></script>
    <!-- Notification Library -->
    <script src="js/notification.js"></script>
    <!-- Initialize FastNotice -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            window.fastNotice = new FastNotice({
                position: 'bottom-right',
                duration: 3000,
                maxNotifications: 3
            });
        });
    </script>

    <!-- Header Component JS -->
    <script src="js/header.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- Profile Alpine.js Component -->
    <script>
        function profileComponent() {
            return {
                currentTab: 'personal',
                isLoading: false,
                user: {
                    fullname: 'Nguyễn Văn A',
                    email: 'qtan8089@gmail.com',
                    phone: '0123456789',
                    birthday: '',
                    gender: '',
                    address: '',
                    city: '',
                    district: '',
                    ward: ''
                },
                errors: {},

                init() {
                    console.log('Profile component initialized');
                    this.loadUserData();
                },

                // Tab switching
                switchTab(tab) {
                    this.currentTab = tab;
                },

                // Load user data
                loadUserData() {
                    // Mock data - replace with actual API call
                    console.log('Loading user data...');
                },

                // Save profile
                async saveProfile() {
                    this.isLoading = true;
                    this.errors = {};

                    try {
                        // Validate form
                        if (!this.user.fullname.trim()) {
                            this.errors.fullname = 'Họ và tên không được để trống';
                        }

                        if (Object.keys(this.errors).length > 0) {
                            this.isLoading = false;
                            return;
                        }

                        // Mock API call
                        await new Promise(resolve => setTimeout(resolve, 1000));

                        // Show success message
                        if (window.fastNotice) {
                            window.fastNotice.success('Cập nhật thông tin thành công!');
                        }

                    } catch (error) {
                        console.error('Error saving profile:', error);
                        if (window.fastNotice) {
                            window.fastNotice.error('Có lỗi xảy ra khi cập nhật thông tin');
                        }
                    } finally {
                        this.isLoading = false;
                    }
                },

                // Change password
                async changePassword() {
                    this.isLoading = true;
                    // Implement password change logic
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    this.isLoading = false;
                },

                // Update payment method
                async updatePayment() {
                    this.isLoading = true;
                    // Implement payment update logic
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    this.isLoading = false;
                }
            };
        }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body class="min-h-screen bg-gray-50">
    <header class="sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60" x-data="headerComponent()">
        <div class="container mx-auto flex h-16 items-center justify-between px-4">
            <!-- Left Side - Back to Shop + Logo -->
            <div class="flex items-center gap-4">
                <a href="/" class="btn btn-ghost">
                    <i data-lucide="arrow-left" class="h-4 w-4"></i>
                    <span class="hidden sm:inline">Back to Shop</span>
                </a>
                
                <div class="h-6 w-px bg-border"></div>
                
                <a href="/dashboard" class="flex items-center space-x-2">
                    <div class="h-8 w-8 rounded-lg bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center">
                        <span class="text-white font-bold text-sm">D</span>
                    </div>
                    <span class="font-bold text-lg hidden sm:inline">Dashboard</span>
                </a>
            </div>
            
            <!-- Search Bar - Hidden on mobile -->
            <form @submit.prevent="handleSearch" class="hidden md:flex flex-1 max-w-md mx-8">
                <div class="relative w-full">
                    <i data-lucide="search" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"></i>
                    <input 
                        type="search" 
                        placeholder="Search dashboard..." 
                        class="input pl-10 pr-4" 
                        x-model="searchQuery">
                </div>
            </form>
            
            <!-- Right Side Actions -->
            <div class="flex items-center space-x-3">
                <!-- Balance Display -->
                <button @click="showDepositModal = true" class="btn btn-outline hidden sm:flex items-center gap-2 hover:bg-green-50 hover:border-green-200 bg-transparent">
                    <i data-lucide="wallet" class="h-4 w-4 text-green-600"></i>
                    <span class="font-medium" x-text="'$' + userBalance.toFixed(2)">$2,847.50</span>
                    <i data-lucide="plus" class="h-3 w-3 text-green-600"></i>
                </button>
                
                <!-- Messages -->
                <a href="/messages" class="btn relative">
                    <i data-lucide="message-circle" class="h-5 w-5"></i>
                    <span class="badge badge-primary absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs">3</span>
                </a>
                
                <!-- Shopping Cart -->
                <button @click="toggleCart()" class="btn relative">
                    <i data-lucide="shopping-cart" class="h-5 w-5"></i>
                    <span class="badge badge-primary absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs" 
                          x-show="cartCount > 0" x-text="cartCount">2</span>
                </button>
                
                <!-- User Menu -->
                <div class="relative" x-data="{ open: false }">
                    <button @click="open = !open" class="btn btn-ghost h-8 w-8 rounded-full p-0">
                        <img alt="User Avatar" class="h-8 w-8 rounded-full object-cover" 
                             :src="user?.avatar || '/placeholder.svg?height=32&width=32'">
                    </button>
                    
                    <!-- Dropdown Menu -->
                    <div x-show="open" @click.away="open = false" 
                         x-transition:enter="transition ease-out duration-200"
                         x-transition:enter-start="opacity-0 scale-95"
                         x-transition:enter-end="opacity-100 scale-100"
                         x-transition:leave="transition ease-in duration-150"
                         x-transition:leave-start="opacity-100 scale-100"
                         x-transition:leave-end="opacity-0 scale-95"
                         class="absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50">
                        <div class="py-1">
                            <div class="px-4 py-2 border-b border-gray-100">
                                <p class="text-sm font-medium text-gray-900" x-text="user?.fullname || 'John Doe'">John Doe</p>
                                <p class="text-xs text-gray-500" x-text="user?.email || 'john@example.com'">john@example.com</p>
                            </div>
                            <a href="/profile" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <i data-lucide="user" class="mr-2 h-4 w-4"></i>
                                Profile
                            </a>
                            <a href="/orders" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <i data-lucide="package" class="mr-2 h-4 w-4"></i>
                                My Orders
                            </a>
                            <a href="/wallet" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <i data-lucide="wallet" class="mr-2 h-4 w-4"></i>
                                Wallet
                            </a>
                            <a href="/favorites" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <i data-lucide="heart" class="mr-2 h-4 w-4"></i>
                                Favorites
                            </a>
                            <div class="border-t border-gray-100"></div>
                            <a href="/settings" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <i data-lucide="settings" class="mr-2 h-4 w-4"></i>
                                Settings
                            </a>
                            <button @click="logout()" class="flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <i data-lucide="log-out" class="mr-2 h-4 w-4"></i>
                                Log out
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Mobile Menu Button -->
                <button @click="openMobileMenu()" class="btn btn-ghost md:hidden">
                    <i data-lucide="menu" class="h-5 w-5"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div x-show="mobileMenuOpen" x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
             x-transition:leave="transition ease-in duration-200"
             x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
             class="fixed inset-0 z-50 lg:hidden hidden">
            <div class="fixed left-0 top-0 h-screen w-80 bg-white shadow-xl" x-show="mobileMenuOpen"
                 x-transition:enter="transition ease-out duration-300"
                 x-transition:enter-start="-translate-x-full" x-transition:enter-end="translate-x-0"
                 x-transition:leave="transition ease-in duration-200"
                 x-transition:leave-start="translate-x-0" x-transition:leave-end="-translate-x-full">
                <div class="flex h-full flex-col">
                    <!-- Mobile Menu Header -->
                    <div class="flex items-center justify-between p-4 border-b border-gray-200">
                        <h2 class="text-lg font-semibold">Dashboard Menu</h2>
                        <button @click="closeMobileMenu()" class="btn btn-ghost h-8 w-8 rounded-full p-0">
                            <i data-lucide="x" class="h-5 w-5"></i>
                        </button>
                    </div>
                    
                    <!-- Mobile Menu Content -->
                    <div class="flex-1 overflow-y-auto p-4">
                        <!-- Mobile Search -->
                        <form @submit.prevent="handleSearch" class="mb-4">
                            <div class="relative">
                                <i data-lucide="search" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"></i>
                                <input type="search" placeholder="Search..." 
                                       class="input pl-10" 
                                       x-model="searchQuery">
                            </div>
                        </form>
                        
                        <!-- Mobile Balance -->
                        <button @click="showDepositModal = true" class="btn btn-outline w-full justify-start bg-transparent mb-4">
                            <i data-lucide="wallet" class="mr-2 h-4 w-4"></i>
                            Balance: <span x-text="'$' + userBalance.toFixed(2)">$2,847.50</span>
                        </button>
                        
                        <!-- Mobile Navigation -->
                        <div class="space-y-2">
                            <a href="/" class="mobile-menu-item">
                                <i data-lucide="arrow-left" class="h-5 w-5 text-gray-600"></i>
                                <span>Back to Shop</span>
                            </a>
                            <a href="/dashboard" class="mobile-menu-item">
                                <i data-lucide="layout-dashboard" class="h-5 w-5 text-blue-600"></i>
                                <span>Dashboard</span>
                            </a>
                            <a href="/messages" class="mobile-menu-item">
                                <i data-lucide="message-circle" class="h-5 w-5 text-green-600"></i>
                                <span>Messages</span>
                            </a>
                            <a href="/orders" class="mobile-menu-item">
                                <i data-lucide="package" class="h-5 w-5 text-purple-600"></i>
                                <span>Orders</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Cart Modal -->
        <div id="cartModal" x-show="showCart" x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
            x-transition:leave="transition ease-in duration-200" x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0" class="fixed inset-0 z-50 hidden"
            style="height: 100vh; height: 100dvh;">
            <div class="fixed inset-0 bg-black/50" @click="toggleCart()" style="height: 100vh; height: 100dvh;">
            </div>
            <div class="fixed right-0 top-0 h-screen w-80 bg-white shadow-xl flex flex-col" x-show="showCart"
                x-transition:enter="transition ease-out duration-300" x-transition:enter-start="translate-x-full"
                x-transition:enter-end="translate-x-0" x-transition:leave="transition ease-in duration-200"
                x-transition:leave-start="translate-x-0" x-transition:leave-end="translate-x-full"
                style="height: 100vh; height: 100dvh;">
                
                <!-- Cart Header -->
                <div class="bg-gradient-to-r from-emerald-500 to-green-600 p-6 text-white flex-shrink-0">
                    <div class="flex items-center justify-between">
                        <div>
                            <h2 class="text-xl font-bold">Giỏ hàng</h2>
                            <p class="text-emerald-100 text-sm" x-text="cartCount + ' sản phẩm'">0 sản phẩm</p>
                        </div>
                        <button @click="toggleCart()" class="text-white hover:text-gray-200 transition-colors">
                            <i data-lucide="x" class="w-6 h-6"></i>
                        </button>
                    </div>
                </div>

                <!-- Cart Items -->
                <div class="flex-1 overflow-y-auto custom-scrollbar">
                    <div class="p-4 space-y-3">
                        <template x-for="item in cartItems" :key="item.id">
                            <div class="bg-white border border-gray-200 rounded-lg p-4 py-2 hover:shadow-sm transition-shadow">
                                <div class="flex items-center space-x-3">
                                    <div class="bg-icon">
                                        <i :data-lucide="item.icon"></i>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <p class="font-medium text-gray-900 truncate" x-text="item.name"></p>
                                        <p class="text-sm text-gray-500" x-text="item.category"></p>
                                        <div class="flex items-center justify-between mt-2">
                                            <span class="text-sm font-semibold text-emerald-600" x-text="formatPrice(item.price)"></span>
                                            <div class="flex items-center space-x-2">
                                                <span class="text-xs text-gray-500">x<span x-text="item.quantity"></span></span>
                                                <button @click="removeFromCart(item.id)" 
                                                    class="p-1 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors"
                                                    title="Xóa sản phẩm">
                                                    <i data-lucide="trash-2" class="w-4 h-4"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </template>
                        
                        <!-- Empty Cart -->
                        <div x-show="cartCount === 0" class="text-center py-12">
                            <i data-lucide="shopping-cart" class="w-16 h-16 text-gray-300 mx-auto mb-4"></i>
                            <p class="text-gray-500 text-lg font-medium">Giỏ hàng trống</p>
                            <p class="text-gray-400 text-sm mt-2">Thêm sản phẩm để bắt đầu mua sắm</p>
                        </div>
                    </div>
                </div>
                
                <!-- Cart Footer -->
                <div x-show="cartCount > 0" class="p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0">
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-lg font-semibold text-gray-900">Tổng cộng:</span>
                        <span class="text-2xl font-bold text-emerald-600" x-text="formatPrice(cartTotal)">0₫</span>
                    </div>
                    <div class="space-y-3">
                        <button @click="proceedToCheckout()" class="w-full btn btn-primary">
                            <i data-lucide="credit-card" class="w-4 h-4 mr-2"></i>
                            Thanh toán
                        </button>
                        <button @click="viewCart()" class="w-full btn btn-outline">
                            <i data-lucide="shopping-cart" class="w-4 h-4 mr-2"></i>
                            Xem giỏ hàng
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8" x-data="profileComponent()">
        <div class="max-w-4xl mx-auto">
            <div class="w-full">
                <!-- Tab Navigation -->
                <div class="tabs-list mb-6">
                    <button @click="switchTab('personal')" 
                            :class="currentTab === 'personal' ? 'bg-white text-emerald-600 shadow-sm' : 'text-gray-600'"
                            class="tabs-trigger">
                        Thông tin cá nhân
                    </button>
                    <button @click="switchTab('security')" 
                            :class="currentTab === 'security' ? 'bg-white text-emerald-600 shadow-sm' : 'text-gray-600'"
                            class="tabs-trigger">
                        Bảo mật
                    </button>
                    <button @click="switchTab('payment')" 
                            :class="currentTab === 'payment' ? 'bg-white text-emerald-600 shadow-sm' : 'text-gray-600'"
                            class="tabs-trigger">
                        Thanh toán
                    </button>
                    <button @click="switchTab('notifications')" 
                            :class="currentTab === 'notifications' ? 'bg-white text-emerald-600 shadow-sm' : 'text-gray-600'"
                            class="tabs-trigger">
                        Thông báo
                    </button>
                </div>

                <!-- Personal Information Tab -->
                <div x-show="currentTab === 'personal'" class="tabs-content">
                    <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100">
                        <!-- Profile Header -->
                        <div class="flex items-center gap-6 mb-8 pb-6 border-b border-gray-200">
                            <div class="relative">
                                <div class="w-24 h-24 bg-green-600 text-white rounded-full flex items-center justify-center text-2xl font-bold">
                                    <span x-text="user.fullname.charAt(0)">N</span>
                                </div>
                                <button class="absolute -bottom-2 -right-2 w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center hover:bg-green-700 transition-colors">
                                    <i data-lucide="camera" class="w-4 h-4"></i>
                                </button>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-900" x-text="user.fullname">Nguyễn Văn A</h3>
                                <p class="text-gray-600" x-text="user.email">qtan8089@gmail.com</p>
                                <div class="flex items-center gap-2 mt-2">
                                    <span class="badge badge-success">Đã xác thực</span>
                                    <span class="badge badge-info">Người bán</span>
                                </div>
                            </div>
                        </div>

                        <!-- Personal Information Form -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Họ và tên <span class="text-red-500">*</span>
                                </label>
                                <input 
                                    type="text" 
                                    x-model="user.fullname"
                                    placeholder="Nhập họ và tên" 
                                    class="input w-full"
                                    :class="errors.fullname ? 'border-red-500 focus:ring-red-500' : ''">
                                <p x-show="errors.fullname" class="text-red-500 text-xs mt-1" x-text="errors.fullname"></p>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Email <span class="text-red-500">*</span>
                                </label>
                                <input 
                                    type="email" 
                                    x-model="user.email"
                                    placeholder="email@example.com" 
                                    readonly
                                    class="input w-full bg-gray-50 text-gray-500">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Số điện thoại</label>
                                <input 
                                    type="tel" 
                                    x-model="user.phone"
                                    placeholder="Nhập số điện thoại" 
                                    class="input w-full">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ngày sinh</label>
                                <input 
                                    type="date" 
                                    x-model="user.birthday"
                                    class="input w-full">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Giới tính</label>
                                <select x-model="user.gender" class="input w-full">
                                    <option value="">Chọn giới tính</option>
                                    <option value="male">Nam</option>
                                    <option value="female">Nữ</option>
                                    <option value="other">Khác</option>
                                </select>
                            </div>
                        </div>

                        <!-- Address Section -->
                        <div class="mt-8 pt-6 border-t border-gray-200">
                            <h4 class="text-lg font-medium text-gray-900 mb-4">Địa chỉ</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Địa chỉ</label>
                                    <input 
                                        type="text" 
                                        x-model="user.address"
                                        placeholder="Nhập địa chỉ" 
                                        class="input w-full">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Tỉnh/Thành phố</label>
                                    <select x-model="user.city" class="input w-full">
                                        <option value="">Chọn tỉnh/thành phố</option>
                                        <option value="hanoi">Hà Nội</option>
                                        <option value="hcm">TP. Hồ Chí Minh</option>
                                        <option value="danang">Đà Nẵng</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Quận/Huyện</label>
                                    <select x-model="user.district" class="input w-full">
                                        <option value="">Chọn quận/huyện</option>
                                        <option value="district1">Quận 1</option>
                                        <option value="district2">Quận 2</option>
                                        <option value="district3">Quận 3</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Phường/Xã</label>
                                    <select x-model="user.ward" class="input w-full">
                                        <option value="">Chọn phường/xã</option>
                                        <option value="ward1">Phường 1</option>
                                        <option value="ward2">Phường 2</option>
                                        <option value="ward3">Phường 3</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Save Button -->
                        <div class="mt-8 pt-6 border-t border-gray-200">
                            <button @click="saveProfile()" :disabled="isLoading" class="btn btn-primary">
                                <i data-lucide="save" class="w-4 h-4 mr-2"></i>
                                <span x-text="isLoading ? 'Đang lưu...' : 'Lưu thay đổi'">Lưu thay đổi</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Security Tab -->
                <div x-show="currentTab === 'security'" class="tabs-content">
                    <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100">
                        <h3 class="text-lg font-medium text-gray-900 mb-6">Bảo mật tài khoản</h3>
                        <div class="space-y-6">
                            <div class="p-4 bg-blue-50 border border-blue-200 rounded-lg">
                                <h4 class="font-medium text-blue-900 mb-2">Đổi mật khẩu</h4>
                                <p class="text-sm text-blue-700 mb-4">Cập nhật mật khẩu để bảo vệ tài khoản của bạn</p>
                                <button @click="changePassword()" :disabled="isLoading" class="btn btn-primary">
                                    <i data-lucide="key" class="w-4 h-4 mr-2"></i>
                                    Đổi mật khẩu
                                </button>
                            </div>
                            
                            <div class="p-4 bg-green-50 border border-green-200 rounded-lg">
                                <h4 class="font-medium text-green-900 mb-2">Xác thực 2 yếu tố</h4>
                                <p class="text-sm text-green-700 mb-4">Thêm lớp bảo mật cho tài khoản của bạn</p>
                                <button class="btn btn-secondary">
                                    <i data-lucide="shield" class="w-4 h-4 mr-2"></i>
                                    Bật 2FA
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payment Tab -->
                <div x-show="currentTab === 'payment'" class="tabs-content">
                    <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100">
                        <h3 class="text-lg font-medium text-gray-900 mb-6">Phương thức thanh toán</h3>
                        <div class="space-y-6">
                            <div class="p-4 bg-gray-50 border border-gray-200 rounded-lg">
                                <h4 class="font-medium text-gray-900 mb-2">Thẻ ngân hàng</h4>
                                <p class="text-sm text-gray-600 mb-4">Quản lý thông tin thẻ ngân hàng</p>
                                <button @click="updatePayment()" :disabled="isLoading" class="btn btn-primary">
                                    <i data-lucide="credit-card" class="w-4 h-4 mr-2"></i>
                                    Cập nhật thẻ
                                </button>
                            </div>
                            
                            <div class="p-4 bg-gray-50 border border-gray-200 rounded-lg">
                                <h4 class="font-medium text-gray-900 mb-2">Ví điện tử</h4>
                                <p class="text-sm text-gray-600 mb-4">Kết nối ví điện tử để thanh toán nhanh</p>
                                <button class="btn btn-secondary">
                                    <i data-lucide="wallet" class="w-4 h-4 mr-2"></i>
                                    Kết nối ví
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notifications Tab -->
                <div x-show="currentTab === 'notifications'" class="tabs-content">
                    <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100">
                        <h3 class="text-lg font-medium text-gray-900 mb-6">Cài đặt thông báo</h3>
                        <div class="space-y-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4 class="font-medium text-gray-900">Email thông báo</h4>
                                    <p class="text-sm text-gray-600">Nhận thông báo qua email</p>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" class="sr-only">
                                    <div class="toggle-track"></div>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4 class="font-medium text-gray-900">SMS thông báo</h4>
                                    <p class="text-sm text-gray-600">Nhận thông báo qua SMS</p>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" class="sr-only">
                                    <div class="toggle-track"></div>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4 class="font-medium text-gray-900">Push thông báo</h4>
                                    <p class="text-sm text-gray-600">Nhận thông báo trên trình duyệt</p>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" class="sr-only">
                                    <div class="toggle-track"></div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Initialize Lucide Icons -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            } else {
                console.warn('Lucide library not loaded');
            }
        });
    </script>
</body>
</html>
